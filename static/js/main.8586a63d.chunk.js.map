{"version":3,"sources":[" api.ts","Routes/utils.ts","Routes/Home.tsx","Routes/Search.tsx","Components/Header.tsx","Routes/Tv.tsx","App.tsx","index.tsx","theme.ts"],"names":["API_KEY","BASE_URL","getMovies","fetch","then","response","json","getTopRatedMovies","getUpcomingMovies","getTv","getTopRatedTv","getPopularTv","makeImagePath","id","format","Wrapper","styled","div","Loader","Banner","props","bgPhoto","Title","h2","Overview","p","Slider","Row","motion","Box","Payload","theme","black","lighter","Overlay","MovieCard","CardCover","CardTitle","h3","white","CardOverview","CategoryTitle","rowVariants","hidden","x","window","outerWidth","visible","exit","boxVariants","normal","scale","hover","y","transition","delay","duaration","type","payloadVariants","opacity","Home","useQuery","nowPlayingData","data","nowPlayingLoading","isLoading","topRatedData","topRatedLoading","upcomingData","upcomingLoading","useState","category","setCategory","currentData","index","setIndex","leaving","setLeaving","history","useHistory","movieMatch","useRouteMatch","scrollY","useViewportScroll","clickedMovie","params","movieId","results","find","movie","toggleLeaving","prev","onClick","totalMovie","length","maxIndex","Math","floor","console","log","backdrop_path","title","overview","map","i","className","AnimatePresence","onExitComplete","initial","variants","animate","duration","slice","whileHover","layoutId","push","onClicked","style","top","get","backgroundImage","Search","location","useLocation","keyword","URLSearchParams","search","searchMovie","movieData","movieLoading","searchTv","tvData","tvLoading","objectMatch","objectId","object","totalObjects","Nav","nav","Col","Logo","svg","red","Items","ul","Item","li","darker","form","Circle","span","Input","input","logoVariants","fillOpacity","repeat","Infinity","navVariants","backgroundColor","scroll","Header","searchOpen","setSearchOpen","homeMatch","tvMatch","navAnimation","useAnimation","useForm","register","handleSubmit","useEffect","onChange","start","xmlns","width","height","viewBox","path","d","to","isExact","onSubmit","fill","fillRule","clipRule","required","minLength","scaleX","placeholder","Tv","popularData","popularLoading","clickedTv","tvId","tv","totalTv","name","App","exact","component","GlobalStyle","createGlobalStyle","client","QueryClient","ReactDOM","render","StrictMode","veryDark","document","getElementById"],"mappings":"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","file":"static/js/main.8586a63d.chunk.js","sourcesContent":["const API_KEY = \"26486466cbbc5e07b1dcb72c00c87e70\";\nconst BASE_URL = \"https://api.themoviedb.org/3\"\n\ninterface IMovie {\n    backdrop_path: string;\n    poster_path: string;\n    title: string;\n    overview: string;\n    id: number;\n}\nexport interface IGetMoviesResult {\n    results: IMovie[];\n}\n\nexport function getMovies() {\n    return fetch(`${BASE_URL}/movie/now_playing?api_key=${API_KEY}`).then(\n        response => response.json()\n    );\n}\n\nexport function getTopRatedMovies() {\n    return fetch(`${BASE_URL}/movie/top_rated?api_key=${API_KEY}&language=en-US&page=1`).then(\n        response => response.json()\n    );\n}\n\nexport function getUpcomingMovies() {\n    return fetch(`${BASE_URL}/movie/upcoming?api_key=${API_KEY}&language=en-US&page=1`).then(\n        response => response.json()\n    );\n}\n\ninterface ITv {\n    backdrop_path: string;\n    poster_path: string;\n    name: string;\n    overview: string;\n    id: number;\n}\nexport interface IGetTvResult {\n    results: ITv[];\n}\n\nexport function getTv() {\n    return fetch(`${BASE_URL}/tv/airing_today?api_key=${API_KEY}&language=en-US&page=1`).then(\n        response => response.json()\n    );\n}\n\nexport function getTopRatedTv() {\n    return fetch(`${BASE_URL}/tv/top_rated?api_key=${API_KEY}&language=en-US&page=1`).then(\n        response => response.json()\n    );\n}\n\nexport function getPopularTv() {\n    return fetch(`${BASE_URL}/tv/popular?api_key=${API_KEY}&language=en-US&page=1`).then(\n        response => response.json()\n    );\n}\n\n\n\n\n\nexport function searchMovie(keyword:string|null) {\n    return fetch(`${BASE_URL}/search/movie?query=${keyword}&api_key=${API_KEY}&language=en-US&page=1&include_adult=false`).then(\n        response => response.json()\n    );\n}\n\nexport function searchTv(keyword:string|null) {\n    return fetch(`${BASE_URL}/search/tv?query=${keyword}&api_key=${API_KEY}&language=en-US&page=1&include_adult=false`).then(\n        response => response.json()\n    );\n}\n\n\n","export function makeImagePath(id:string, format?:string) {\n    return `https://image.tmdb.org/t/p/${format?format:\"original\"}${id}`\n}","import { useQuery } from \"react-query\";\nimport { getMovies, getUpcomingMovies, getTopRatedMovies, IGetMoviesResult } from \" api\";\nimport styled from \"styled-components\";\nimport { makeImagePath } from \"./utils\";\nimport { motion, AnimatePresence, useViewportScroll } from \"framer-motion\";\nimport  { useState } from \"react\"\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\nimport { number } from \"prop-types\";\n\n\nconst Wrapper = styled.div`\n    background-color:black;\n`;\n\nconst Loader = styled.div`\n    height:20vh;\n    display:flex;\n    justify-content:center;\n    align-items:center;\n`;\n\nconst Banner = styled.div<{ bgPhoto: string}>`\n    height:100vh;\n    display:flex;\n    flex-direction:column;\n    justify-content:center;\n    padding:60px;\n    background-image: linear-gradient(rgba(0,0,0,0), rgba(0,0,0,1)), url(${props => props.bgPhoto});\n    background-size:cover;\n`;\n\nconst Title = styled.h2`\n    font-size: 68px;\n    margin-bottom:20px;\n`;\n\nconst Overview = styled.p`\n    font-size: 20px;\n    width:50%;\n`;\n\nconst Slider = styled.div`\n  &.slider_0 {\n  position: relative;\n  top: -100px;\n}\n  &.slider_1 {\n    margin-top:150px;\n  }\n  &.slider_2 {\n    margin-top:250px;\n  }\n`;\n\nconst Row = styled(motion.div)`\n  display: grid;\n  gap: 10px;\n  grid-template-columns: repeat(6, 1fr);\n  position: absolute;\n  width: 100%;\n`;\n\nconst Box = styled(motion.div)<{ bgPhoto:string }>`\n  background-color: white;\n  background-image: url(${(props) => props.bgPhoto});\n  background-size: cover;\n  background-position: center center;\n  height: 150px;\n  font-size: 66px;\n  cursor: pointer;\n   &:first-child {\n    transform-origin: center left;\n  }\n  &:last-child {\n    transform-origin: center right;\n  }\n`;\n\nconst Payload = styled(motion.div)`\n    opacity:0;\n    padding: 5px;\n    width:100%;\n    background-color: ${props => props.theme.black.lighter};\n    position:absolute;\n    bottom:0;\n    h4 {\n        text-align:center;\n        font-size:10px;\n    }\n`;\n\nconst Overlay = styled(motion.div)`\n  position: fixed;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  opacity: 0;\n`;\n\nconst MovieCard = styled(motion.div)`\n  position: absolute;\n  width: 40vw;\n  height: 80vh;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  background-color: ${(props) => props.theme.black.lighter};\n`;\n\nconst CardCover = styled.div`\n  width: 100%;\n  background-size: cover;\n  background-position: center center;\n  height: 400px;\n`;\n\nconst CardTitle = styled.h3`\n  color: ${(props) => props.theme.white.lighter};\n  padding: 20px;\n  font-size: 40px;\n  position: relative;\n  top: -80px;\n  font-weight:400;\n`;\n\nconst CardOverview = styled.p`\n  padding: 20px;\n  position: relative;\n  top: -80px;\n  color: ${(props) => props.theme.white.lighter};\n`;\n\nconst CategoryTitle = styled.h2`\n  padding:10px;\n  margin-left:10px;\n`\n\nconst rowVariants = {\n    hidden: {\n      x: window.outerWidth + 10,\n    },\n    visible: {\n      x: 0,\n    },\n    exit: {\n      x: -window.outerWidth - 10,\n    },\n  };\n\nconst boxVariants = {\n    normal: {\n      scale: 1,\n    },\n    hover: {\n      scale: 1.3,\n      y: -10,\n      transition: {\n        delay: 0.5,\n        duaration: 0.3,\n        type: \"tween\",\n      },\n    },\n  };\n\nconst payloadVariants = {\n    hover : {\n        opacity:1,\n        transition: {\n            delay: 0.5,\n            duaration: 0.1,\n            type: \"tween\",\n          },\n    }\n}\n\nconst offset = 6;\n\nfunction Home() {\n    const {data : nowPlayingData, isLoading : nowPlayingLoading} = useQuery<IGetMoviesResult>([\"movies\", \"nowPlaying\"], getMovies);\n    const {data : topRatedData, isLoading : topRatedLoading } = useQuery<IGetMoviesResult>([\"movies\", \"topRated\"], getTopRatedMovies);\n    const {data : upcomingData, isLoading : upcomingLoading } = useQuery<IGetMoviesResult>([\"movies\", \"upcoming\"], getUpcomingMovies);\n    const data = [nowPlayingData, topRatedData, upcomingData]\n    const [category, setCategory] = useState(0);\n    const currentData = data[category]\n    const isLoading = ( nowPlayingLoading && topRatedLoading && upcomingLoading)\n    const [index, setIndex] = useState(0);\n    const [leaving, setLeaving] = useState(false);\n    const history = useHistory();\n    const movieMatch = useRouteMatch<{ movieId: string }>(\"/movies/:movieId\");\n    const { scrollY } = useViewportScroll();\n    const clickedMovie = movieMatch?.params.movieId && currentData?.results.find((movie) => movie.id === +movieMatch.params.movieId);\n    const toggleLeaving = () => setLeaving((prev) => !prev);\n    const onClicked = (movieId: number, category:number) => {\n        history.push(`/movies/${movieId}`);\n        setCategory(category)\n      };\n    const onClickedOverlay = () => history.push(\"/\");\n    const nextIndex = () => {\n        if (currentData) {\n            if (leaving) return;    \n            toggleLeaving();\n            const totalMovie = currentData?.results.length - 1;\n            const maxIndex = Math.floor(totalMovie / offset);\n            console.log(index, maxIndex);\n            setIndex((prev) =>(prev === maxIndex ? 0 : prev + 1));\n        }\n    } \n    return (\n        <Wrapper>\n            {isLoading ? <Loader>Loading</Loader> : \n            <>\n                <Banner onClick={nextIndex} bgPhoto={makeImagePath(nowPlayingData?.results[0].backdrop_path || \"\")}>\n                    <Title>{nowPlayingData?.results[0].title}</Title>\n                    <Overview>{nowPlayingData?.results[0].overview}</Overview>\n                </Banner>\n                {[0, 1, 2].map( i => ( \n               <>\n                <Slider className={`slider_${i}`}>\n                  <CategoryTitle>\n                    {i === 0 ? \"Now Playing\" : i === 1 ? \"Top Rated\" : \"Upcoming\" }\n                  </CategoryTitle>\n                <AnimatePresence onExitComplete={toggleLeaving} initial={false}>\n                    <Row variants={rowVariants} initial=\"hidden\" animate=\"visible\" exit=\"exit\" transition={{ type: \"tween\", duration: 1 }} key={index}>\n                    {data[i]?.results.slice(1).slice(offset * index, offset * index + offset).map((movie) => (\n                        <Box key={movie.id} bgPhoto={makeImagePath(movie.backdrop_path, \"w500\")}\n                        whileHover=\"hover\"\n                        initial=\"normal\"\n                        layoutId={`${i}_${movie.id}`}\n                        variants={boxVariants}\n                        onClick={() => onClicked(movie.id, i)}\n                        >\n                            <Payload variants={payloadVariants}>\n                                <h4>{movie.title}</h4>\n                            </Payload>\n                        </Box>\n                        ))}\n                    </Row>\n                    </AnimatePresence>\n                </Slider>\n                </>))}\n                <AnimatePresence>\n                    {movieMatch ? (\n                    <>\n                     <Overlay onClick={onClickedOverlay} animate={{opacity: 1}} exit={{opacity: 0}}>\n                     </Overlay>\n                    <MovieCard\n                        style={{ top: scrollY.get() + 100 }}\n                        layoutId={movieMatch.params.movieId}>\n                        {clickedMovie && (\n                        <>\n                        <CardCover\n                            style={{backgroundImage: `linear-gradient(to top, black, transparent), \n                            url(${makeImagePath(clickedMovie.backdrop_path,\"w500\")})`}}>\n                        </CardCover>\n                        <CardTitle>{clickedMovie.title}</CardTitle>\n                        <CardOverview>{clickedMovie.overview}</CardOverview>\n                        </>\n                        )}\n                    </MovieCard> \n                    </>\n                    ) : null}\n                </AnimatePresence>\n            </>\n            }\n        </Wrapper>\n \n    );\n}\n\nexport default Home;","import { searchMovie, searchTv, IGetMoviesResult } from \" api\";\nimport { useLocation } from \"react-router\";\nimport { useQuery } from \"react-query\";\nimport styled from \"styled-components\";\nimport { makeImagePath } from \"./utils\";\nimport { motion, AnimatePresence, useViewportScroll } from \"framer-motion\";\nimport  { useState } from \"react\"\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\n\nconst Wrapper = styled.div`\n    background-color:black;\n`;\n\nconst Loader = styled.div`\n    height:20vh;\n    display:flex;\n    justify-content:center;\n    align-items:center;\n`;\n\nconst Slider = styled.div`\n  &.slider_0 {\n    margin-top:100px;\n}\n  &.slider_1 {\n    margin-top:200px;\n  }\n`;\n\nconst Row = styled(motion.div)`\n  display: grid;\n  gap: 10px;\n  grid-template-columns: repeat(6, 1fr);\n  position: absolute;\n  width: 100%;\n`;\n\nconst Box = styled(motion.div)<{ bgPhoto:string }>`\n  background-color: white;\n  background-image: url(${(props) => props.bgPhoto});\n  background-size: cover;\n  background-position: center center;\n  height: 150px;\n  font-size: 66px;\n  cursor: pointer;\n   &:first-child {\n    transform-origin: center left;\n  }\n  &:last-child {\n    transform-origin: center right;\n  }\n`;\n\nconst Payload = styled(motion.div)`\n    opacity:0;\n    padding: 5px;\n    width:100%;\n    background-color: ${props => props.theme.black.lighter};\n    position:absolute;\n    bottom:0;\n    h4 {\n        text-align:center;\n        font-size:10px;\n    }\n`;\n\nconst Overlay = styled(motion.div)`\n  position: fixed;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  opacity: 0;\n`;\n\nconst MovieCard = styled(motion.div)`\n  position: absolute;\n  width: 40vw;\n  height: 80vh;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  background-color: ${(props) => props.theme.black.lighter};\n`;\n\nconst CardCover = styled.div`\n  width: 100%;\n  background-size: cover;\n  background-position: center center;\n  height: 400px;\n`;\n\nconst CardTitle = styled.h3`\n  color: ${(props) => props.theme.white.lighter};\n  padding: 20px;\n  font-size: 40px;\n  position: relative;\n  top: -80px;\n  font-weight:400;\n`;\n\nconst CardOverview = styled.p`\n  padding: 20px;\n  position: relative;\n  top: -80px;\n  color: ${(props) => props.theme.white.lighter};\n`;\n\nconst CategoryTitle = styled.h2`\n  padding:10px;\n  margin-left:10px;\n`;\n\n\nconst rowVariants = {\n    hidden: {\n      x: window.outerWidth + 10,\n    },\n    visible: {\n      x: 0,\n    },\n    exit: {\n      x: -window.outerWidth - 10,\n    },\n  };\n\nconst boxVariants = {\n    normal: {\n      scale: 1,\n    },\n    hover: {\n      scale: 1.3,\n      y: -10,\n      transition: {\n        delay: 0.5,\n        duaration: 0.3,\n        type: \"tween\",\n      },\n    },\n  };\n\nconst payloadVariants = {\n    hover : {\n        opacity:1,\n        transition: {\n            delay: 0.5,\n            duaration: 0.1,\n            type: \"tween\",\n          },\n    }\n}\n\nconst offset = 6;\n\nfunction Search() {\n    const location = useLocation();\n    const keyword = new URLSearchParams(location.search).get(\"keyword\");\n    const {data : movieData, isLoading : movieLoading} = useQuery<IGetMoviesResult>([\"movies\", \"nowPlaying\"], () => searchMovie(keyword));\n    const {data : tvData, isLoading : tvLoading } = useQuery<IGetMoviesResult>([\"movies\", \"topRated\"], () => searchTv(keyword));\n    const data = [movieData, tvData]\n    const isLoading = ( movieLoading && tvLoading);\n    const [category, setCategory] = useState(0);\n    const currentData = data[category]\n    const [index, setIndex] = useState(0);\n    const [leaving, setLeaving] = useState(false);\n    const history = useHistory();\n    const objectMatch = useRouteMatch<{ objectId: string }>(`/search/:objectId`);\n    const { scrollY } = useViewportScroll();\n    const clickedMovie = objectMatch?.params.objectId && currentData?.results.find((object) => object.id === +objectMatch.params.objectId);\n    const toggleLeaving = () => setLeaving((prev) => !prev);\n    const onClicked = (objectId: number, category:number) => {\n        history.push(`/search/${objectId}`);\n        setCategory(category)\n      };\n    const onClickedOverlay = () => history.push(`/search?keyword=${keyword}`);\n    const nextIndex = () => {\n        if (currentData) {\n            if (leaving) return;    \n            toggleLeaving();\n            const totalObjects = currentData?.results.length - 1;\n            const maxIndex = Math.floor(totalObjects / offset);\n            console.log(index, maxIndex);\n            setIndex((prev) =>(prev === maxIndex ? 0 : prev + 1));\n        }\n    }\n    return (\n        <Wrapper onClick={nextIndex} >\n            \n             {isLoading ? <Loader>Loading</Loader> : \n            <>\n                 {[0, 1].map( i => ( \n               <>\n                <Slider className={`slider_${i}`}>\n                  <CategoryTitle>\n                    {i === 0 ? \"Movies\" : \"TV Shows\" }\n                  </CategoryTitle>\n                <AnimatePresence onExitComplete={toggleLeaving} initial={false}>\n                    <Row variants={rowVariants} initial=\"hidden\" animate=\"visible\" exit=\"exit\" transition={{ type: \"tween\", duration: 1 }} key={index}>\n                    {data[i]?.results.slice(1).slice(offset * index, offset * index + offset).map((object) => (\n                        <Box key={object.id} bgPhoto={makeImagePath(object.backdrop_path, \"w500\")}\n                        whileHover=\"hover\"\n                        initial=\"normal\"\n                        layoutId={`${i}_${object.id}`}\n                        variants={boxVariants}\n                        onClick={() => onClicked(object.id, i)}\n                        >\n                            <Payload variants={payloadVariants}>\n                                <h4>{object.title}</h4>\n                            </Payload>\n                        </Box>\n                        ))}\n                    </Row>\n                    </AnimatePresence>\n                </Slider>\n                </>))}\n                <AnimatePresence>\n                    {objectMatch ? (\n                    <>\n                     <Overlay onClick={onClickedOverlay} animate={{opacity: 1}} exit={{opacity: 0}}>\n                     </Overlay>\n                    <MovieCard\n                        style={{ top: scrollY.get() + 100 }}\n                        layoutId={objectMatch.params.objectId}>\n                        {clickedMovie && (\n                        <>\n                        <CardCover\n                            style={{backgroundImage: `linear-gradient(to top, black, transparent), \n                            url(${makeImagePath(clickedMovie.backdrop_path,\"w500\")})`}}>\n                        </CardCover>\n                        <CardTitle>{clickedMovie.title}</CardTitle>\n                        <CardOverview>{clickedMovie.overview}</CardOverview>\n                        </>\n                        )}\n                    </MovieCard> \n                    </>\n                    ) : null}\n                </AnimatePresence>\n            </>}\n        </Wrapper>\n    );\n}\n\nexport default Search;","import styled from \"styled-components\";\nimport { motion, useViewportScroll, useAnimation } from \"framer-motion\";\nimport { Link, useRouteMatch, useHistory } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\"\n\nconst Nav = styled(motion.nav)`\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\nposition: fixed;\nwidth: 100%;\ntop: 0;\nfont-size: 14px;\npadding: 20px 60px;\ncolor:white;\nz-index:100;\n`;\n\nconst Col = styled.div`\ndisplay: flex;\nalign-items: center;\n`;\n\nconst Logo = styled(motion.svg)`\nmargin-right: 50px;\nwidth: 95px;\nheight: 25px;\nfill: ${(props) => props.theme.red};\npath {\n  stroke-width: 6px;\n  stroke: white;\n}\n`;\n\nconst Items = styled.ul`\ndisplay: flex;\nalign-items: center;\n`;\n\nconst Item = styled.li`\nmargin-right: 20px;\ncolor: ${(props) => props.theme.white.darker};\ntransition: color 0.3s ease-in-out;\nposition:relative;\ndisplay:flex;\nflex-direction:column;\njustify-content:center;\n&:hover {\n  color: ${(props) => props.theme.white.lighter};\n}\n`;\n\nconst Search = styled.form`\ncolor: white;\ndisplay:flex;\nposition: relative;\nalign-items:center;\ncursor: pointer;\nsvg {\n  height: 25px;\n}\n`;\n\nconst Circle = styled(motion.span)`\n  position: absolute;\n  width: 5px;\n  height: 5px;\n  border-radius: 5px;\n  bottom: -5px;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  background-color: ${(props) => props.theme.red};\n`;\n\nconst Input = styled(motion.input)`\n   transform-origin: right center;\n   position: absolute;\n  left: -255px;\n   width: 250px;\n   border:none;\n   padding:5px;\n   \n`;\n\nconst logoVariants = {\n    normal : {\n        fillOpacity:1\n    },\n    hover : {\n        fillOpacity:[ 0, 1, 0],\n        transition: {\n            repeat:Infinity\n        }\n    }\n}\n\nconst navVariants = {\n    top:{ \n        backgroundColor:\"rgba(0,0,0,0)\",\n    },\n    scroll:{ \n        backgroundColor:\"rgba(0,0,0,1)\",\n    }\n}\n\ninterface IForm {\n    keyword: string;\n  }\n\n\nfunction Header() {\n    const [searchOpen, setSearchOpen] = useState(false);\n    const homeMatch = useRouteMatch(\"/\");\n    const tvMatch = useRouteMatch(\"/tv\");\n    const toggleSearch = () => setSearchOpen((prev) => !prev);\n    const { scrollY } = useViewportScroll();\n    const navAnimation = useAnimation();\n    const { register, handleSubmit } = useForm<IForm>();\n    const history = useHistory();\n    const onValid = (data: IForm) => {\n        history.push(`/search?keyword=${data.keyword}`)\n      };\n    useEffect(() => {\n        scrollY.onChange(() => {\n             if(scrollY.get()>80){\n                 navAnimation.start(\"scroll\")\n             } else {\n                 navAnimation.start(\"top\")\n             }\n        })\n    })\n    return (\n        <Nav \n        variants={navVariants}\n        animate={navAnimation}\n        initial=\"top\">\n            <Col>\n                <Logo\n                variants={logoVariants}\n                initial=\"normal\"\n                whileHover=\"hover\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"1024\"\n                height=\"276.742\"\n                viewBox=\"0 0 1024 276.742\"\n                >\n                <motion.path d=\"M140.803 258.904c-15.404 2.705-31.079 3.516-47.294 5.676l-49.458-144.856v151.073c-15.404 1.621-29.457 3.783-44.051 5.945v-276.742h41.08l56.212 157.021v-157.021h43.511v258.904zm85.131-157.558c16.757 0 42.431-.811 57.835-.811v43.24c-19.189 0-41.619 0-57.835.811v64.322c25.405-1.621 50.809-3.785 76.482-4.596v41.617l-119.724 9.461v-255.39h119.724v43.241h-76.482v58.105zm237.284-58.104h-44.862v198.908c-14.594 0-29.188 0-43.239.539v-199.447h-44.862v-43.242h132.965l-.002 43.242zm70.266 55.132h59.187v43.24h-59.187v98.104h-42.433v-239.718h120.808v43.241h-78.375v55.133zm148.641 103.507c24.594.539 49.456 2.434 73.51 3.783v42.701c-38.646-2.434-77.293-4.863-116.75-5.676v-242.689h43.24v201.881zm109.994 49.457c13.783.812 28.377 1.623 42.43 3.242v-254.58h-42.43v251.338zm231.881-251.338l-54.863 131.615 54.863 145.127c-16.217-2.162-32.432-5.135-48.648-7.838l-31.078-79.994-31.617 73.51c-15.678-2.705-30.812-3.516-46.484-5.678l55.672-126.75-50.269-129.992h46.482l28.377 72.699 30.27-72.699h47.295z\" />\n                </Logo>\n              <Items>\n                  <Item>\n                    <Link to=\"/\">Home {homeMatch?.isExact && <Circle layoutId=\"reddot\" />}</Link>\n                  </Item>\n                  <Item>\n                    <Link to=\"/tv\">Tv Shows {tvMatch && <Circle layoutId=\"reddot\" />}</Link>\n                  </Item>\n            </Items>\n            </Col>\n            <Col>\n                <Search onSubmit={handleSubmit(onValid)}> \n                    <motion.svg \n                        onClick={toggleSearch}\n                        animate={{ x: searchOpen ? -285 : 0 }}\n                        transition={{ type: \"linear\" }}\n                        fill=\"currentColor\"\n                        viewBox=\"0 0 20 20\"\n                        xmlns=\"http://www.w3.org/2000/svg\">\n                        <path\n                        fillRule=\"evenodd\"\n                        d=\"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z\"\n                        clipRule=\"evenodd\">\n                        </path>\n                    </motion.svg>\n                    <Input\n                        {...register(\"keyword\", { required: true, minLength: 2 })}\n                        initial={{scaleX:0}}\n                        transition={{ type: \"linear\" }}\n                        animate={{ scaleX: searchOpen ? 1 : 0 }}\n                        placeholder=\"Search for movie or tv show\"\n                    /> \n                </Search>\n            </Col>\n        </Nav>\n    );\n}\n\nexport default Header;","import { useQuery } from \"react-query\";\nimport { getTv, getTopRatedTv, getPopularTv, IGetTvResult  } from \" api\";\nimport styled from \"styled-components\";\nimport { makeImagePath } from \"./utils\";\nimport { motion, AnimatePresence, useViewportScroll } from \"framer-motion\";\nimport  { useState } from \"react\"\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\n\n\nconst Wrapper = styled.div`\n    background-color:black;\n`;\n\nconst Loader = styled.div`\n    height:20vh;\n    display:flex;\n    justify-content:center;\n    align-items:center;\n`;\n\nconst Banner = styled.div<{ bgPhoto: string}>`\n    height:100vh;\n    display:flex;\n    flex-direction:column;\n    justify-content:center;\n    padding:60px;\n    background-image: linear-gradient(rgba(0,0,0,0), rgba(0,0,0,1)), url(${props => props.bgPhoto});\n    background-size:cover;\n`;\n\nconst Title = styled.h2`\n    font-size: 68px;\n    margin-bottom:20px;\n`;\n\nconst Overview = styled.p`\n    font-size: 20px;\n    width:50%;\n`;\n\nconst Slider = styled.div`\n  &.slider_0 {\n  position: relative;\n  top: -100px;\n}\n  &.slider_1 {\n    margin-top:150px;\n  }\n  &.slider_2 {\n    margin-top:250px;\n  }\n`;\n\nconst Row = styled(motion.div)`\n  display: grid;\n  gap: 10px;\n  grid-template-columns: repeat(6, 1fr);\n  position: absolute;\n  width: 100%;\n`;\n\nconst Box = styled(motion.div)<{ bgPhoto:string }>`\n  background-color: white;\n  background-image: url(${(props) => props.bgPhoto});\n  background-size: cover;\n  background-position: center center;\n  height: 150px;\n  font-size: 66px;\n  cursor: pointer;\n   &:first-child {\n    transform-origin: center left;\n  }\n  &:last-child {\n    transform-origin: center right;\n  }\n`;\n\nconst Payload = styled(motion.div)`\n    opacity:0;\n    padding: 5px;\n    width:100%;\n    background-color: ${props => props.theme.black.lighter};\n    position:absolute;\n    bottom:0;\n    h4 {\n        text-align:center;\n        font-size:10px;\n    }\n`;\n\nconst Overlay = styled(motion.div)`\n  position: fixed;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  opacity: 0;\n`;\n\nconst MovieCard = styled(motion.div)`\n  position: absolute;\n  width: 40vw;\n  height: 80vh;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  background-color: ${(props) => props.theme.black.lighter};\n`;\n\nconst CardCover = styled.div`\n  width: 100%;\n  background-size: cover;\n  background-position: center center;\n  height: 400px;\n`;\n\nconst CardTitle = styled.h3`\n  color: ${(props) => props.theme.white.lighter};\n  padding: 20px;\n  font-size: 40px;\n  position: relative;\n  top: -80px;\n  font-weight:400;\n`;\n\nconst CardOverview = styled.p`\n  padding: 20px;\n  position: relative;\n  top: -80px;\n  color: ${(props) => props.theme.white.lighter};\n`;\n\nconst CategoryTitle = styled.h2`\n  padding:10px;\n  margin-left:10px;\n`\n\nconst rowVariants = {\n    hidden: {\n      x: window.outerWidth + 10,\n    },\n    visible: {\n      x: 0,\n    },\n    exit: {\n      x: -window.outerWidth - 10,\n    },\n  };\n\nconst boxVariants = {\n    normal: {\n      scale: 1,\n    },\n    hover: {\n      scale: 1.3,\n      y: -10,\n      transition: {\n        delay: 0.5,\n        duaration: 0.3,\n        type: \"tween\",\n      },\n    },\n  };\n\nconst payloadVariants = {\n    hover : {\n        opacity:1,\n        transition: {\n            delay: 0.5,\n            duaration: 0.1,\n            type: \"tween\",\n          },\n    }\n}\n\nconst offset = 6;\n\nfunction Tv() {\n    const {data : nowPlayingData, isLoading : nowPlayingLoading} = useQuery<IGetTvResult >([\"movies\", \"nowPlaying\"], getTv);\n    const {data : topRatedData, isLoading : topRatedLoading } = useQuery<IGetTvResult >([\"movies\", \"topRated\"], getTopRatedTv);\n    const {data : popularData, isLoading : popularLoading } = useQuery<IGetTvResult >([\"movies\", \"popular\"], getPopularTv);\n    const data = [nowPlayingData, topRatedData, popularData]\n    const [category, setCategory] = useState(0);\n    const currentData = data[category]\n    const isLoading = ( nowPlayingLoading && topRatedLoading && popularLoading)\n    const [index, setIndex] = useState(0);\n    const [leaving, setLeaving] = useState(false);\n    const history = useHistory();\n    const tvMatch = useRouteMatch<{ tvId: string }>(\"/tv/:tvId\");\n    const { scrollY } = useViewportScroll();\n    const clickedTv = tvMatch?.params.tvId && currentData?.results.find((tv) => tv.id === +tvMatch.params.tvId);\n    const toggleLeaving = () => setLeaving((prev) => !prev);\n    const onClicked = (tvId: number, category:number) => {\n        history.push(`/tv/${tvId}`);\n        setCategory(category)\n      };\n    const onClickedOverlay = () => history.push(\"/tv\");\n    const nextIndex = () => {\n        if (currentData) {\n            if (leaving) return;    \n            toggleLeaving();\n            const totalTv = currentData?.results.length - 1;\n            const maxIndex = Math.floor(totalTv / offset);\n            console.log(index, maxIndex);\n            setIndex((prev) =>(prev === maxIndex ? 0 : prev + 1));\n        }\n    } \n    return (\n        <Wrapper>\n            {isLoading ? <Loader>Loading</Loader> : \n            <>\n                <Banner onClick={nextIndex} bgPhoto={makeImagePath(nowPlayingData?.results[0].backdrop_path || \"\")}>\n                    <Title>{nowPlayingData?.results[0].name}</Title>\n                    <Overview>{nowPlayingData?.results[0].overview}</Overview>\n                </Banner>\n                {[0, 1, 2].map( i => ( \n               <>\n                <Slider className={`slider_${i}`}>\n                  <CategoryTitle>\n                    {i === 0 ? \"Now Playing\" : i === 1 ? \"Top Rated\" : \"popular\" }\n                  </CategoryTitle>\n                <AnimatePresence onExitComplete={toggleLeaving} initial={false}>\n                    <Row variants={rowVariants} initial=\"hidden\" animate=\"visible\" exit=\"exit\" transition={{ type: \"tween\", duration: 1 }} key={index}>\n                    {data[i]?.results.slice(1).slice(offset * index, offset * index + offset).map((movie) => (\n                        <Box key={movie.id} bgPhoto={makeImagePath(movie.backdrop_path, \"w500\")}\n                        whileHover=\"hover\"\n                        initial=\"normal\"\n                        layoutId={`${i}_${movie.id}`}\n                        variants={boxVariants}\n                        onClick={() => onClicked(movie.id, i)}\n                        >\n                            <Payload variants={payloadVariants}>\n                                <h4>{movie.name}</h4>\n                            </Payload>\n                        </Box>\n                        ))}\n                    </Row>\n                    </AnimatePresence>\n                </Slider>\n                </>))}\n                <AnimatePresence>\n                    {tvMatch ? (\n                    <>\n                     <Overlay onClick={onClickedOverlay} animate={{opacity: 1}} exit={{opacity: 0}}>\n                     </Overlay>\n                    <MovieCard\n                        style={{ top: scrollY.get() + 100 }}\n                        layoutId={tvMatch.params.tvId}>\n                        {clickedTv && (\n                        <>\n                        <CardCover\n                            style={{backgroundImage: `linear-gradient(to top, black, transparent), \n                            url(${makeImagePath(clickedTv.backdrop_path,\"w500\")})`}}>\n                        </CardCover>\n                        <CardTitle>{clickedTv.name}</CardTitle>\n                        <CardOverview>{clickedTv.overview === \"\" ? \"This Tv show does not have an overview\" : clickedTv.overview }</CardOverview>\n                        </>\n                        )}\n                    </MovieCard> \n                    </>\n                    ) : null}\n                </AnimatePresence>\n            </>\n            }\n        </Wrapper>\n \n    );\n}\n\nexport default Tv;","import { BrowserRouter as Router, Route, Redirect, Switch } from \"react-router-dom\";\nimport Home from \"Routes/Home\";\nimport Search from \"Routes/Search\";\nimport Header from \"Components/Header\";\nimport Tv from \"Routes/Tv\";\n\nfunction App() {\n  return (\n    <Router>\n      <Header></Header>\n      <Switch>\n        <Route path={[\"/\", \"/movies/:movieId\"]} exact component={Home}/>\n        <Route path={[\"/search\", \"/search/:objectId\"]} component={Search}/>\n        <Route path={[\"/tv\", \"/tv/:tvId\"]} component={Tv}/>\n      </Switch>\n      \n    </Router>\n  )\n  \n}\n\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { RecoilRoot } from \"recoil\";\nimport { ThemeProvider } from \"styled-components\";\nimport App from \"./App\";\nimport { theme } from \"./theme\";\nimport { QueryClient, QueryClientProvider } from \"react-query\"\nimport { createGlobalStyle } from \"styled-components\";\n\nconst GlobalStyle = createGlobalStyle`\n@import url('https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300;400&display=swap');\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, menu, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed,\nfigure, figcaption, footer, header, hgroup,\nmain, menu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure,\nfooter, header, hgroup, main, menu, nav, section {\n  display: block;\n}\n/* HTML5 hidden-attribute fix for newer browsers */\n*[hidden] {\n    display: none;\n}\nbody {\n  line-height: 1;\n}\nmenu, ol, ul {\n  list-style: none;\n}\nblockquote, q {\n  quotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n* {\n  box-sizing: border-box;\n}\nbody {\n  font-weight: 300;\n  font-family: 'Source Sans Pro', sans-serif;\n  color:${props=> props.theme.white.darker};\n  line-height: 1.2;\n  height:1000vh;\n  background-color:black;\n  \n}\na {\n  text-decoration:none;\n  color:inherit;\n}\n`;\n\nconst client = new QueryClient();\n\nReactDOM.render(\n  <React.StrictMode>\n    <RecoilRoot>\n      <QueryClientProvider client={client}>\n        <ThemeProvider theme={theme}>\n          <GlobalStyle />\n          <App />\n        </ThemeProvider>\n      </QueryClientProvider>\n    </RecoilRoot>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);","import { DefaultTheme } from \"styled-components\";\n\nexport const theme: DefaultTheme = {\n  red: \"#E51013\",\n  black: {\n    veryDark: \"#141414\",\n    darker: \"#181818\",\n    lighter: \"#2F2F2F\",\n  },\n  white: {\n    lighter: \"#fff\",\n    darker: \"#e5e5e5\",\n  },\n};"],"sourceRoot":""}